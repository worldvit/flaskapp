{% extends "base.html" %}
{% block title %}{{ subject.name }} - í•™ìŠµ ì½˜í…ì¸ {% endblock %}
{% block header_title %}{{ subject.name }}{% endblock %}
{% block content %}
<style>
.content-section { margin-bottom: 30px; }
.content-section h3 { border-bottom: 2px solid #007bff; padding-bottom: 10px; color: #333; }
.content-list { list-style: none; padding: 0; }
.content-list li { padding: 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
.content-list a { text-decoration: none; color: #007bff; font-weight: 500; font-size: 1.1em; }
.status-badge { font-size: 0.8em; padding: 3px 8px; border-radius: 10px; color: white; margin-left: 10px; }
.status-active { background-color: #28a745; }
.status-inactive { background-color: #dc3545; }
.btn-toggle { background-color: #6c757d; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.9em; }
</style>

<div class="content-section">
    <h3>ğŸ“– ì´ë¡  ì½˜í…ì¸ </h3>
    <ul class="content-list">
        {% for item in theory_contents %}
        <li>
            <div>
                <a href="{{ url_for('view_content', content_id=item.id) }}">{{ item.title }}</a>
                {% if session.username in ['kevin', 'kwangjin'] %}
                <span class="status-badge {{ 'status-active' if item.is_active else 'status-inactive' }}">{{ 'í™œì„±' if item.is_active else 'ë¹„í™œì„±' }}</span>
                {% endif %}
            </div>
            {% if session.username in ['kevin', 'kwangjin'] %}
            <form action="{{ url_for('toggle_content_status', content_id=item.id) }}" method="post" style="margin:0;">
                <button type="submit" class="btn-toggle">{{ 'ë¹„í™œì„±í™”' if item.is_active else 'í™œì„±í™”' }}</button>
            </form>
            {% endif %}
        </li>
        {% else %}
        <li>ë“±ë¡ëœ ì´ë¡  ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}
    </ul>
</div>

<div class="content-section">
    <h3>ğŸ’» ì‹¤ìŠµ ì½˜í…ì¸ </h3>
    <ul class="content-list">
        {% for item in lab_contents %}
        <li>
            <div>
                <a href="{{ url_for('view_content', content_id=item.id) }}">{{ item.title }}</a>
                {% if session.username in ['kevin', 'kwangjin'] %}
                <span class="status-badge {{ 'status-active' if item.is_active else 'status-inactive' }}">{{ 'í™œì„±' if item.is_active else 'ë¹„í™œì„±' }}</span>
                {% endif %}
            </div>
            {% if session.username in ['kevin', 'kwangjin'] %}
            <form action="{{ url_for('toggle_content_status', content_id=item.id) }}" method="post" style="margin:0;">
                <button type="submit" class="btn-toggle">{{ 'ë¹„í™œì„±í™”' if item.is_active else 'í™œì„±í™”' }}</button>
            </form>
            {% endif %}
        </li>
        {% else %}
        <li>ë“±ë¡ëœ ì‹¤ìŠµ ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}
    </ul>
</div>
<div style="margin-top: 20px;">
    <a href="{{ url_for('study_list') }}" style="color: #6c757d; text-decoration: none;">&larr; ê³¼ëª© ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
</div>
{% endblock %}
